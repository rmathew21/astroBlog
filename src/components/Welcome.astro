---
// import MainLayout from "../layouts/MainLayout.astro";
import SearchForm from "../components/SearchForm.astro";
import type { CollectionEntry } from "astro:content";
import ArticleCard from "./ArticleCard.astro";
import MostRecentArticle from "./MostRecentArticle.astro";
// import { HOMEPAGE_ARTICLE_LIMIT } from "../constants";
// import { getCollection } from "astro:content";


const { allBlogArticles } = Astro.props as { allBlogArticles: CollectionEntry<'blog'>[] };
const mostRecentArticle: CollectionEntry<'blog'> = allBlogArticles[0];
const otherArticles: CollectionEntry<'blog'>[] = allBlogArticles.slice(1);
// const { mostRecentArticle, otherArticles } = Astro.props;
// const { Title = 'Articles, Stories & Tutorials for Tech People' } = Astro.props;
// const allBlogArticles: CollectionEntry<'blog'>[] = (await getCollection('blog'))
//   .sort((a:CollectionEntry<'blog'>, b:CollectionEntry<'blog'>) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf());
// const mostRecentArticle: CollectionEntry<'blog'> = allBlogArticles[0];
// const otherArticles: CollectionEntry<'blog'>[] = allBlogArticles.slice(1);
---
<!-- <MainLayout Title={Title}> -->
      <!-- Top Grid -->
      <div class="grid grid-cols-1 gap-5 lg:grid-cols-2">
        <!-- <div> -->
          <h1 class="text-5xl font-bold mt-4 mb-8 leading-tight xl:text-6xl">
            Articles, Stories, & Tutorials for Tech People
          </h1>
          <MostRecentArticle article={mostRecentArticle} />
          <SearchForm />
          
      </div>
      <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3 auto-rows-fr">
        {otherArticles.map(article => (
          <ArticleCard article={article} />
        ))}
      </div>
        <!-- <MostRecentArticle article={mostRecentArticle} /> -->
        <!-- {mostRecentArticle ? <MostRecentArticle article={mostRecentArticle} /> : <p>No recent articles found.</p>} -->
      <!-- </div> -->

      <!-- Main Grid -->
      <!-- <div class="grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3">
        {otherArticles.slice(0, HOMEPAGE_ARTICLE_LIMIT).map(article => (
        <ArticleCard article={article} />
        ))}
      </div> -->
    <!-- </MainLayout> -->
     

